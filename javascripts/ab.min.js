!function($){function readCookie(cname){for(var cookieName=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(cookieName)){var value=c.substring(cookieName.length,c.length);if(value)return value}}return null}function setCookie(cname,cvalue,exdays){cvalue=""+cvalue;var fullValue=readCookie(cname)||cvalue;if(-1!==cvalue.indexOf("=")){var indexOfName=fullValue.indexOf(cvalue.split("=")[0]);if(-1===indexOfName)fullValue+=","+cvalue;else{var endIndex=fullValue.indexOf(",",indexOfName);-1==endIndex&&(endIndex=fullValue.length),fullValue=fullValue.replace(fullValue.substring(indexOfName,endIndex),cvalue)}}var d=new Date;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+fullValue+"; "+expires}var name,$this=void 0,experiments=[],COOKIE_NAME="codemumblerAB_index",getIndex=function(){var index=0;if(-1!==window.location.href.indexOf("?ab"))index=-1==window.location.href.indexOf("?ab=")?Math.floor(Math.random()*experiments.length):window.location.href.substring(window.location.href.indexOf("?ab=")+4);else{var savedIndex=readCookie(COOKIE_NAME);if(name&&null!=savedIndex)for(var nameList=savedIndex.split(","),i=0;i<nameList.length;i++)nameList[i].indexOf(name)>-1&&(savedIndex=nameList[i].split("=")[1]);index=null!==savedIndex&&savedIndex<experiments.length?savedIndex:Math.floor(Math.random()*experiments.length)}return index},renderExperiment=function(index){var experiment=experiments[index].value;"string"==typeof experiment?$this.text(experiment):experiment($this),name?setCookie(COOKIE_NAME,name+"="+index,1):setCookie(COOKIE_NAME,index,1)},tracking=function(options,index){"undefined"!=typeof ga&&ga("send","event",options.category,options.action,experiments[index].label)};$.fn.ab=function(options){return $this=$(this),options&&options.experiments?(name=options.name,experiments=options.experiments,renderExperiment(getIndex()),tracking(options,getIndex()),$this):$this}}(window.jQuery);
//# sourceMappingURL=ab.min.js.map